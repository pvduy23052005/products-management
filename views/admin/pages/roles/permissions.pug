extend ../../layouts/default.pug
include ../../mixins/alert.pug

block main 
   if(role.permissions.includes("roles_permissions"))
      h1( class = "mb-4") Phân quyền
      
      +alert-success(5000)
      +alert-error(5000)

      if(records)

      div( data-records = records)
      div()
         button(
            type = "submit"
            class = "btn btn-primary"
            button-submit 
         ) Cập nhật  
   .card.mb-3
      .card-header 
         .card-body 
         table(
            class ="table table-hover table-sm"
            table-permissions
         )
            thead 
               tr 
                  th Tính năng  
                  each item in records 
                     th( class ="text-center") #{item.title}
            tbody   
               tr(data-name ="id" class = "d-none")
                  td
                  each item in records 
                     td(class = "text-center")
                        input(type="text" , value = item.id)   
               //- Danh muc san pham
               tr 
                  td(colspan ="4")
                     b Danh mục sản phẩm 
               tr(data-name = "products-category_view")
                  td xem 
                  each item in records 
                     td( class = "text-center")
                        input(type="checkbox")
               tr(data-name = "products-category_create")
                  td Them  
                  each item in records 
                     td( class = "text-center")
                        input(type="checkbox")
               tr(data-name = "products-category_edit")
                  td Sửa
                  each item in records 
                     td( class = "text-center")
                        input(type="checkbox")  
               tr(data-name = "products-category_delete")
                  td  Xóa
                  each item in records 
                     td( class = "text-center")
                        input(type="checkbox") 
               //- san pham 
               tr 
                  td(colspan ="4")
                     b Sản phẩm  
               tr(data-name = "products_view")
                  td Xem 
                  each item in records 
                     td( class = "text-center")
                        input(type="checkbox")
               tr(data-name = "products_create")
                  td Thêm  
                  each item in records 
                     td( class = "text-center")
                        input(type="checkbox")
               tr(data-name = "products_edit")
                  td Sửa 
                  each item in records 
                     td( class = "text-center")
                        input(type="checkbox")  
               tr(data-name = "products_delete")
                  td Xóa
                  each item in records 
                     td( class = "text-center")
                        input(type="checkbox")
            
               //- nhom quyen 
               tr 
                  td(colspan ="4")
                     b Nhóm quyền
               tr(data-name = "roles_view")
                  td Xem 
                  each item in records 
                     td( class = "text-center")
                        input(type="checkbox")
               tr(data-name = "roles_create")
                  td Thêm  
                  each item in records 
                     td( class = "text-center")
                        input(type="checkbox")
               tr(data-name = "roles_edit")
                  td sửa 
                  each item in records 
                     td( class = "text-center")
                        input(type="checkbox")  
               tr(data-name = "roles_delete")
                  td  Xóa
                  each item in records 
                     td( class = "text-center")
                        input(type="checkbox")
               tr(data-name = "roles_permissions")
                  td  Phân quyền
                  each item in records 
                     td( class = "text-center")
                        input(type="checkbox")

               tr 
                  td(colspan ="4")
                     b Tài khoản
               tr(data-name = "accounts_view")
                  td Xem 
                  each item in records 
                     td( class = "text-center")
                        input(type="checkbox")
               tr(data-name = "accounts_create")
                  td Thêm  
                  each item in records 
                     td( class = "text-center")
                        input(type="checkbox")
               tr(data-name = "accounts_edit")
                  td sửa 
                  each item in records 
                     td( class = "text-center")
                        input(type="checkbox")  
               tr(data-name = "accounts_delete")
                  td  Xóa
                  each item in records 
                     td( class = "text-center")
                        input(type="checkbox")
         



   form(
      class = "d-none"
      id ="form-change-permissions"
      action="/admin/roles/permissions?_method=PATCH", 
      method="post"
      ) 
      div(class = "form-group")
         input(
            type="text"
            class = "form-group"
            name = "permissions"
         )
         
            